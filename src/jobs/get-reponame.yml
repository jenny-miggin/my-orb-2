description: >
  Sample description
# What will this job do?

parameters:
  reponame:
    type: string
    default: CIRCLE_PROJECT_REPONAME
    description: the name of the repo
  resource_class:
    default: large
    description: Configure the executor resource class
    enum:
    - small
    - medium
    - medium+
    - large
    - xlarge
    - 2xlarge
    - 2xlarge+
    type: enum

executor:
  name: default
  resource_class: << parameters.resource_class >>

steps:
  - run:
      command: echo $CIRCLE_PROJECT_REPONAME
  - run:
      command: echo << parameters.reponame >>
  - run:
      name: save my workspace
      command: mkdir -p $CIRCLE_PROJECT_REPONAME/workspace && echo "Hello, world!" > $CIRCLE_PROJECT_REPONAME/workspace/echo-output
  - persist_to_workspace:
      # Must be an absolute path, or relative path from working_directory. This is a directory on the container which is
      # taken to be the root directory of the workspace.
      root: << parameters.reponame >>/workspace
      # Must be relative path from root
      paths:
        - echo-output

